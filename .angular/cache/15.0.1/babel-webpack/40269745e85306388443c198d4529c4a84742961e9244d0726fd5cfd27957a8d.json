{"ast":null,"code":"import { Image } from \"../title\";\nimport { environment } from \"../environment\";\nimport { AppComponent } from \"../app.component\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction PublishComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 27);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"innerHtml\", ctx_r0.msg, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction PublishComponent_select_24_option_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const t_r10 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(t_r10.typeName);\n  }\n}\nfunction PublishComponent_select_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"select\", 28);\n    i0.ɵɵlistener(\"ngModelChange\", function PublishComponent_select_24_Template_select_ngModelChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.type = $event);\n    });\n    i0.ɵɵtemplate(1, PublishComponent_select_24_option_1_Template, 2, 1, \"option\", 29);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.type);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.allPossible.types);\n  }\n}\nfunction PublishComponent_div_37_div_1_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 38)(1, \"div\", 39);\n    i0.ɵɵlistener(\"change\", function PublishComponent_div_37_div_1_li_4_Template_div_change_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const cat_r20 = restoredCtx.$implicit;\n      const ctx_r21 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r21.addToArr($event, cat_r20, ctx_r21.categories));\n    });\n    i0.ɵɵelement(2, \"input\", 40);\n    i0.ɵɵelementStart(3, \"label\", 41);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const cat_r20 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", cat_r20.genre, \" \");\n  }\n}\nfunction PublishComponent_div_37_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34)(1, \"button\", 35);\n    i0.ɵɵtext(2, \" \\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0456\\u0439 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ul\", 36);\n    i0.ɵɵtemplate(4, PublishComponent_div_37_div_1_li_4_Template, 5, 1, \"li\", 37);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r13.allPossible.categories);\n  }\n}\nfunction PublishComponent_div_37_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42)(1, \"button\", 43);\n    i0.ɵɵtext(2, \" \\u041D\\u0435\\u043C\\u0430\\u0454 \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u0438\\u0445 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0456\\u0439 \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction PublishComponent_div_37_div_3_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 38)(1, \"div\", 39);\n    i0.ɵɵlistener(\"change\", function PublishComponent_div_37_div_3_li_4_Template_div_change_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r26);\n      const cat_r24 = restoredCtx.$implicit;\n      const ctx_r25 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r25.addToArr($event, cat_r24, ctx_r25.tags));\n    });\n    i0.ɵɵelement(2, \"input\", 44);\n    i0.ɵɵelementStart(3, \"label\", 45);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const cat_r24 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", cat_r24.tag, \" \");\n  }\n}\nfunction PublishComponent_div_37_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34)(1, \"button\", 35);\n    i0.ɵɵtext(2, \" \\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u0442\\u0435\\u0433\\u0456\\u0432 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ul\", 36);\n    i0.ɵɵtemplate(4, PublishComponent_div_37_div_3_li_4_Template, 5, 1, \"li\", 37);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r15.allPossible.tags);\n  }\n}\nfunction PublishComponent_div_37_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42)(1, \"button\", 43);\n    i0.ɵɵtext(2, \" \\u041D\\u0435\\u043C\\u0430\\u0454 \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u0438\\u0445 \\u0442\\u0435\\u0433\\u0456\\u0432 \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction PublishComponent_div_37_div_5_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 38)(1, \"div\", 39);\n    i0.ɵɵlistener(\"change\", function PublishComponent_div_37_div_5_li_4_Template_div_change_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r30);\n      const cat_r28 = restoredCtx.$implicit;\n      const ctx_r29 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r29.addToArr($event, cat_r28, ctx_r29.serials));\n    });\n    i0.ɵɵelement(2, \"input\", 46);\n    i0.ɵɵelementStart(3, \"label\", 47);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const cat_r28 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", cat_r28.serialName, \" \");\n  }\n}\nfunction PublishComponent_div_37_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34)(1, \"button\", 35);\n    i0.ɵɵtext(2, \" \\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u0441\\u0435\\u0440\\u0456\\u0439 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ul\", 36);\n    i0.ɵɵtemplate(4, PublishComponent_div_37_div_5_li_4_Template, 5, 1, \"li\", 37);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r17.allPossible.serials);\n  }\n}\nfunction PublishComponent_div_37_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42)(1, \"button\", 43);\n    i0.ɵɵtext(2, \" \\u041D\\u0435\\u043C\\u0430\\u0454 \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u0438\\u0445 \\u0441\\u0435\\u0440\\u0456\\u0439 \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction PublishComponent_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵtemplate(1, PublishComponent_div_37_div_1_Template, 5, 1, \"div\", 31);\n    i0.ɵɵtemplate(2, PublishComponent_div_37_div_2_Template, 3, 0, \"div\", 32);\n    i0.ɵɵtemplate(3, PublishComponent_div_37_div_3_Template, 5, 1, \"div\", 33);\n    i0.ɵɵtemplate(4, PublishComponent_div_37_div_4_Template, 3, 0, \"div\", 32);\n    i0.ɵɵtemplate(5, PublishComponent_div_37_div_5_Template, 5, 1, \"div\", 33);\n    i0.ɵɵtemplate(6, PublishComponent_div_37_div_6_Template, 3, 0, \"div\", 32);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.allPossible.categories);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.allPossible.categories);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.allPossible.tags);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.allPossible.tags);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.allPossible.serials);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.allPossible.serials);\n  }\n}\nfunction PublishComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48);\n    i0.ɵɵtext(1, \"Title name cannot be empty\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PublishComponent_div_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48);\n    i0.ɵɵtext(1, \"Description cannot be empty\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PublishComponent_div_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48);\n    i0.ɵɵtext(1, \"Title image cannot be empty\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PublishComponent_div_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48);\n    i0.ɵɵtext(1, \"Tags list cannot be empty\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PublishComponent_div_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48);\n    i0.ɵɵtext(1, \"Categories list cannot be empty\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PublishComponent_div_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48);\n    i0.ɵɵtext(1, \"Content images cannot be empty\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class PublishComponent {\n  constructor(httpclient, router) {\n    this.httpclient = httpclient;\n    this.router = router;\n    this.urls = [];\n    this.msg = \"\";\n    this.edited = false;\n    this.user = AppComponent.getUser();\n    this.imgFiles = [];\n    this.imgFilesMain = [];\n    this.titleNameEmpty = false;\n    this.descriptionEmpty = false;\n    this.titleImageEmpty = false;\n    this.tagsEmpty = false;\n    this.categoriesEmpty = false;\n    this.contentImagesEmpty = false;\n    this.titleName = '';\n    this.description = '';\n    this.titleImg = '';\n    this.type = '';\n    this.categories = [];\n    this.serials = [];\n    this.tags = [];\n    this.images = [];\n    this.originalAuthor = this.user !== undefined ? this.user.nickName : '';\n    this.loadContents().subscribe(cot => {\n      this.allPossible = cot;\n      this.type = this.allPossible.types[0].typeName;\n    });\n  }\n  validation() {\n    if (!this.titleName) {\n      this.titleNameEmpty = true;\n      return false;\n    }\n    if (!this.description) {\n      this.descriptionEmpty = true;\n      return false;\n    }\n    if (!this.titleImg) {\n      this.titleImageEmpty = true;\n      return false;\n    }\n    if (!this.tags) {\n      this.tagsEmpty = true;\n      return false;\n    }\n    if (!this.categories) {\n      this.categoriesEmpty = true;\n      return false;\n    }\n    if (!this.images) {\n      this.contentImagesEmpty = true;\n      return false;\n    }\n    this.titleNameEmpty = false;\n    this.descriptionEmpty = false;\n    this.titleImageEmpty = false;\n    this.tagsEmpty = false;\n    this.categoriesEmpty = false;\n    this.contentImagesEmpty = false;\n    return true;\n  }\n  ngOnInit() {\n    this.imgInputHelper = document.getElementById(\"add-single-img\");\n    this.imgInputHelperLabel = document.getElementById(\"add-img-label\");\n    this.imgContainer = document.querySelector(\".custom-image-container\");\n    this.imgFiles = [];\n    this.addImgHandler = () => {\n      const file = this.imgInputHelper.files[0];\n      if (!file) return;\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => {\n        const newImg = document.createElement(\"img\");\n        newImg.style.width = \"45%\";\n        newImg.style.height = \"220px\";\n        newImg.style.border = \"solid 1px black\";\n        newImg.style.borderRadius = \"5px\";\n        newImg.style.objectFit = \"cover\";\n        if (typeof reader.result === \"string\") {\n          newImg.src = reader.result;\n        }\n        this.imgContainer.insertBefore(newImg, this.imgInputHelperLabel);\n      };\n      // @ts-ignore\n      this.imgFiles.push(file);\n      this.imgInputHelper.value = \"\";\n      return;\n    };\n    this.imgInputHelper.addEventListener(\"change\", this.addImgHandler);\n    const getImgFileList = imgFiles => {\n      const imgFilesHelper = new DataTransfer();\n      imgFiles.forEach(imgFile => imgFilesHelper.items.add(imgFile));\n      return imgFilesHelper.files;\n    };\n    const customFormSubmitHandler = ev => {\n      ev.preventDefault();\n      const firstImgInput = document.getElementById(\"image-input\");\n      // @ts-ignore\n      if (firstImgInput !== null) firstImgInput.files = getImgFileList(imgFiles);\n    };\n    // @ts-ignore\n    document.querySelector(\".custom-form\").addEventListener(\"submit\", customFormSubmitHandler);\n    this.imgInputHelperMain = document.getElementById(\"add-single-img-main\");\n    this.imgInputHelperLabelMain = document.getElementById(\"add-img-label-main\");\n    this.imgContainerMain = document.querySelector(\".custom-image-container-main\");\n    this.imgFilesMain = [];\n    this.addImgHandlerMain = () => {\n      const file = this.imgInputHelperMain.files[0];\n      if (!file) return;\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => {\n        const newImg = document.createElement(\"img\");\n        newImg.style.width = \"320px\";\n        newImg.style.height = \"420px\";\n        newImg.style.border = \"solid 1px black\";\n        newImg.style.borderRadius = \"5px\";\n        newImg.style.objectFit = \"cover\";\n        if (typeof reader.result === \"string\") {\n          newImg.src = reader.result;\n        }\n        this.imgContainerMain.insertBefore(newImg, this.imgInputHelperLabelMain);\n        this.imgInputHelperLabelMain.remove();\n      };\n      // @ts-ignore\n      this.imgFilesMain.push(file);\n      this.imgInputHelperMain.value = \"\";\n      return;\n    };\n    this.imgInputHelperMain.addEventListener(\"change\", this.addImgHandlerMain);\n  }\n  loadContents() {\n    return this.httpclient.get(`${environment.serverUrl}/titles/content-all`);\n  }\n  selectTitleImg(event) {\n    if (!event.target.files[0] || event.target.files[0].length == 0) {\n      this.msg = 'You must select an image';\n      return;\n    }\n    let mimeType = event.target.files[0].type;\n    if (mimeType.match(/image\\/*/) == null) {\n      this.msg = \"Only images are supported\";\n      return;\n    }\n    let reader = new FileReader();\n    reader.readAsDataURL(event.target.files[0]);\n    reader.onload = _event => {\n      this.msg = \"\";\n      this.url = reader.result;\n      this.titleImg = reader.result;\n    };\n    this.edited = true;\n  }\n  addNewFile(event) {\n    let mimeType = event.target.files[0].type;\n    if (mimeType.match(/image\\/*/) == null) {\n      this.msg = \"Only images are supported\";\n      return;\n    }\n    let reader = new FileReader();\n    reader.readAsDataURL(event.target.files[0]);\n    reader.onload = _event => {\n      this.msg = \"\";\n      this.urls.push(reader.result);\n      this.images.push(new Image(0, String(reader.result)));\n    };\n  }\n  addPost() {\n    if (!this.user) {\n      return;\n    }\n    if (!this.validation()) return;\n    this.httpclient.post(`${environment.serverUrl}/titles/`, {\n      titleName: this.titleName,\n      originalAuthor: this.originalAuthor,\n      authorId: this.user.id,\n      author: this.user,\n      typeName: this.type,\n      description: this.description,\n      creationDate: new Date(),\n      titleImg: this.titleImg,\n      content: {\n        likes: [],\n        views: 0,\n        images: this.images\n      },\n      categories: this.categories,\n      tags: this.tags,\n      serials: this.serials\n    }).subscribe(x => {\n      this.router.navigate([\"/titles/\" + x.id]);\n    });\n  }\n  addToArr($event, obj, arr) {\n    if ($event.target.checked) {\n      arr.push(obj);\n      return;\n    }\n    removeFromArr(arr, obj);\n    function removeFromArr(arr, obj) {\n      if (arr.includes(obj)) {\n        const index = arr.indexOf(obj, 0);\n        if (index > -1) {\n          arr.splice(index, 1);\n        }\n      }\n    }\n  }\n  static #_ = this.ɵfac = function PublishComponent_Factory(t) {\n    return new (t || PublishComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PublishComponent,\n    selectors: [[\"app-publish\"]],\n    decls: 47,\n    vars: 12,\n    consts: [[1, \"px-2\", \"py-2\"], [1, \"row\", \"g-1\"], [2, \"display\", \"flex\", \"flex-direction\", \"row\"], [1, \"custom-form\", \"col-6\"], [\"for\", \"lastName\", 1, \"form-label\", \"mb-1\"], [\"style\", \"color: red;\", 3, \"innerHtml\", 4, \"ngIf\"], [1, \"custom-image-container-main\"], [\"id\", \"add-img-label-main\", \"for\", \"add-single-img-main\"], [\"type\", \"file\", \"id\", \"add-single-img-main\", \"accept\", \"image/jpeg\", 3, \"change\"], [\"type\", \"file\", \"id\", \"image-input-main\", \"name\", \"photos\", \"accept\", \"image/jpeg\"], [1, \"custom-form\", \"custom-form-img\", \"col-6\"], [1, \"custom-image-container\"], [\"id\", \"add-img-label\", \"for\", \"add-single-img\"], [\"type\", \"file\", \"id\", \"add-single-img\", \"accept\", \"image/jpeg\", 3, \"change\"], [\"type\", \"file\", \"id\", \"image-input\", \"name\", \"photos\", \"accept\", \"image/jpeg\", \"multiple\", \"\"], [1, \"col-sm-12\"], [1, \"form-label\", \"mb-1\"], [\"class\", \"form-select form-select-lg\", 3, \"ngModel\", \"ngModelChange\", 4, \"ngIf\"], [1, \"col-sm-6\"], [\"for\", \"firstName\", 1, \"form-label\", \"mb-1\"], [\"type\", \"text\", \"id\", \"firstName\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"id\", \"lastName\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-12\"], [1, \"w-100\", 2, \"height\", \"200px\", 3, \"ngModel\", \"ngModelChange\"], [\"class\", \"mb-0\", 4, \"ngIf\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [1, \"w-100\", \"btn-lg\", 3, \"click\"], [2, \"color\", \"red\", 3, \"innerHtml\"], [1, \"form-select\", \"form-select-lg\", 3, \"ngModel\", \"ngModelChange\"], [4, \"ngFor\", \"ngForOf\"], [1, \"mb-0\"], [\"class\", \" col-4 btn-group\", 4, \"ngIf\"], [\"class\", \"w-100 btn-group\", 4, \"ngIf\"], [\"class\", \"col-4 btn-group\", 4, \"ngIf\"], [1, \"col-4\", \"btn-group\"], [\"type\", \"button\", \"data-bs-toggle\", \"dropdown\", \"aria-expanded\", \"false\", 1, \"btn\", \"btn-secondary\", \"dropdown-toggle\"], [1, \"w-100\", \"dropdown-menu\"], [\"class\", \"list-group-item d-flex justify-content-between\", \"style\", \"border: none\", 4, \"ngFor\", \"ngForOf\"], [1, \"list-group-item\", \"d-flex\", \"justify-content-between\", 2, \"border\", \"none\"], [3, \"change\"], [\"type\", \"checkbox\", \"value\", \"\", \"id\", \"flexCheckIndeterminateCats\", \"name\", \"categories\", 1, \"form-check-input\"], [\"for\", \"flexCheckIndeterminateCats\", 1, \"form-check-label\", \"text-secondary\"], [1, \"w-100\", \"btn-group\"], [\"type\", \"button\", \"data-bs-toggle\", \"dropdown\", \"aria-expanded\", \"false\", 1, \"w-100\", \"btn\", \"btn-danger\"], [\"type\", \"checkbox\", \"value\", \"\", \"id\", \"flexCheckIndeterminateTags\", \"name\", \"categories\", 1, \"form-check-input\"], [\"for\", \"flexCheckIndeterminateTags\", 1, \"form-check-label\", \"text-secondary\"], [\"type\", \"checkbox\", \"value\", \"\", \"id\", \"flexCheckIndeterminateSerials\", \"name\", \"categories\", 1, \"form-check-input\"], [\"for\", \"flexCheckIndeterminateSerials\", 1, \"form-check-label\", \"text-secondary\"], [1, \"alert\", \"alert-danger\"]],\n    template: function PublishComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"label\", 4);\n        i0.ɵɵtext(5, \"\\u0412\\u0438\\u0431\\u0435\\u0440\\u0456\\u0442\\u044C \\u0433\\u043E\\u043B\\u043E\\u0432\\u043D\\u0435 \\u0444\\u043E\\u0442\\u043E\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(6, PublishComponent_div_6_Template, 1, 1, \"div\", 5);\n        i0.ɵɵelementStart(7, \"div\")(8, \"div\", 6)(9, \"label\", 7);\n        i0.ɵɵtext(10, \"+\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"input\", 8);\n        i0.ɵɵlistener(\"change\", function PublishComponent_Template_input_change_11_listener($event) {\n          return ctx.selectTitleImg($event);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(12, \"input\", 9);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(13, \"div\", 10)(14, \"label\", 4);\n        i0.ɵɵtext(15, \"\\u0412\\u0438\\u0431\\u0435\\u0440\\u0456\\u0442\\u044C \\u043A\\u043E\\u043D\\u0442\\u0435\\u043D\\u0442 \\u0434\\u043B\\u044F \\u0432\\u043C\\u0456\\u0441\\u0442\\u0443, \\u0441\\u0442\\u0456\\u043B\\u044C\\u043A\\u0438, \\u0441\\u043A\\u0456\\u043B\\u044C\\u043A\\u0438 \\u043F\\u043E\\u0442\\u0440\\u0456\\u0431\\u043D\\u043E\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"div\", 11)(17, \"label\", 12);\n        i0.ɵɵtext(18, \"+\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"input\", 13);\n        i0.ɵɵlistener(\"change\", function PublishComponent_Template_input_change_19_listener($event) {\n          return ctx.addNewFile($event);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(20, \"input\", 14);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(21, \"div\", 15)(22, \"label\", 16);\n        i0.ɵɵtext(23, \"\\u041E\\u0431\\u0435\\u0440\\u0456\\u0442\\u044C \\u0442\\u0438\\u043F\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(24, PublishComponent_select_24_Template, 2, 2, \"select\", 17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"div\", 18)(26, \"label\", 19);\n        i0.ɵɵtext(27, \"\\u041D\\u0430\\u0437\\u0432\\u0430 \\u043F\\u0443\\u0431\\u043B\\u0456\\u043A\\u0430\\u0446\\u0456\\u0457\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"input\", 20);\n        i0.ɵɵlistener(\"ngModelChange\", function PublishComponent_Template_input_ngModelChange_28_listener($event) {\n          return ctx.titleName = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(29, \"div\", 18)(30, \"label\", 4);\n        i0.ɵɵtext(31, \"\\u041E\\u0440\\u0438\\u0433\\u0456\\u043D\\u0430\\u043B\\u044C\\u043D\\u0438\\u0439 \\u0430\\u0432\\u0442\\u043E\\u0440\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"input\", 21);\n        i0.ɵɵlistener(\"ngModelChange\", function PublishComponent_Template_input_ngModelChange_32_listener($event) {\n          return ctx.originalAuthor = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(33, \"div\", 22)(34, \"label\", 16);\n        i0.ɵɵtext(35, \"\\u041E\\u043F\\u0438\\u0441\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"textarea\", 23);\n        i0.ɵɵlistener(\"ngModelChange\", function PublishComponent_Template_textarea_ngModelChange_36_listener($event) {\n          return ctx.description = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(37, PublishComponent_div_37_Template, 7, 6, \"div\", 24);\n        i0.ɵɵelementStart(38, \"div\", 22);\n        i0.ɵɵtemplate(39, PublishComponent_div_39_Template, 2, 0, \"div\", 25);\n        i0.ɵɵtemplate(40, PublishComponent_div_40_Template, 2, 0, \"div\", 25);\n        i0.ɵɵtemplate(41, PublishComponent_div_41_Template, 2, 0, \"div\", 25);\n        i0.ɵɵtemplate(42, PublishComponent_div_42_Template, 2, 0, \"div\", 25);\n        i0.ɵɵtemplate(43, PublishComponent_div_43_Template, 2, 0, \"div\", 25);\n        i0.ɵɵtemplate(44, PublishComponent_div_44_Template, 2, 0, \"div\", 25);\n        i0.ɵɵelementStart(45, \"button\", 26);\n        i0.ɵɵlistener(\"click\", function PublishComponent_Template_button_click_45_listener() {\n          return ctx.addPost();\n        });\n        i0.ɵɵtext(46, \"\\u0421\\u0442\\u0432\\u043E\\u0440\\u0438\\u0442\\u0438 \\u043F\\u0443\\u0431\\u043B\\u0456\\u043A\\u0430\\u0446\\u0456\\u044E\");\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.msg);\n        i0.ɵɵadvance(18);\n        i0.ɵɵproperty(\"ngIf\", ctx.allPossible);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.titleName);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.originalAuthor);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.description);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.allPossible);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.titleNameEmpty);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.descriptionEmpty);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.titleImageEmpty);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.tagsEmpty);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.categoriesEmpty);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.contentImagesEmpty);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel],\n    styles: [\".panel[_ngcontent-%COMP%] {\\n  margin: 0 20px;\\n  width: 100%;\\n}\\n\\n.info[_ngcontent-%COMP%] {\\n  margin: 0 20px;\\n\\n}\\n\\n.info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  height: 30px;\\n  width: 100%;\\n}\\n\\n.main-pub[_ngcontent-%COMP%] {\\n  padding: 20px;\\n}\\n\\n.all-possible-content-panel[_ngcontent-%COMP%] {\\n  border-radius: 5px;\\n  display: flex;\\n}\\n\\n.panel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  margin-top: 3px;\\n  font: inherit;\\n  color: currentColor;\\n  width: 1.15em;\\n  height: 1.10em;\\n  border-radius: 0.15em;\\n  transform: translateY(-0.075em);\\n}\\n\\n*[_ngcontent-%COMP%] {\\n  font-size: 20px;\\n}\\n\\nbutton[_ngcontent-%COMP%], a[_ngcontent-%COMP%] {\\n  background-color: green;\\n  border: none;\\n\\n  color: white;\\n  text-align: center;\\n  display: inline-block;\\n}\\n\\n.addTitle[_ngcontent-%COMP%] {\\n  border-radius: 10px;\\n  margin-top: 20px;\\n  width: 100%;\\n  height: 40px;\\n  font-size: 30px;\\n  margin-bottom: 20px;\\n}\\n\\n.errMsg[_ngcontent-%COMP%] {\\n  margin-top: 20px;\\n  color: red;\\n  text-align: center;\\n}\\n\\n.custom-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  opacity: 0;\\n  height: 0;\\n\\n}\\n\\n.custom-image-container[_ngcontent-%COMP%], .custom-image-container-main[_ngcontent-%COMP%] {\\n  box-sizing: border-box;\\n  display: flex;\\n  flex-wrap: wrap;\\n  gap: 0.5rem;\\n}\\n\\n.custom-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{\\n  width: 40%;\\n}\\n\\n.custom-form-img[_ngcontent-%COMP%]{\\n  width: 40%;\\n}\\n\\n.custom-image-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .custom-image-container-main[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  font-size: 150%;\\n  cursor: pointer;\\n  width: 50%;\\n  height: 220px;\\n  border: solid 1px black;\\n  border-radius: 5px;\\n  object-fit: cover;\\n}\\n\\n.custom-image-container-main[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  width: 320px;\\n  height: 420px;\\n}\\n/*# sourceURL=webpack://./src/app/publish/publish.component.css */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHVibGlzaC9wdWJsaXNoLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFjO0VBQ2QsV0FBVztBQUNiOztBQUVBO0VBQ0UsY0FBYzs7QUFFaEI7O0FBRUE7RUFDRSxZQUFZO0VBQ1osV0FBVztBQUNiOztBQUVBO0VBQ0UsYUFBYTtBQUNmOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGFBQWE7QUFDZjs7QUFFQTtFQUNFLGVBQWU7RUFDZixhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLGFBQWE7RUFDYixjQUFjO0VBQ2QscUJBQXFCO0VBQ3JCLCtCQUErQjtBQUNqQzs7QUFFQTtFQUNFLGVBQWU7QUFDakI7O0FBRUE7RUFDRSx1QkFBdUI7RUFDdkIsWUFBWTs7RUFFWixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixnQkFBZ0I7RUFDaEIsV0FBVztFQUNYLFlBQVk7RUFDWixlQUFlO0VBQ2YsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLFVBQVU7RUFDVixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxVQUFVO0VBQ1YsU0FBUzs7QUFFWDs7QUFFQTtFQUNFLHNCQUFzQjtFQUN0QixhQUFhO0VBQ2IsZUFBZTtFQUNmLFdBQVc7QUFDYjs7QUFFQTtFQUNFLFVBQVU7QUFDWjs7QUFFQTtFQUNFLFVBQVU7QUFDWjs7QUFFQTtFQUNFLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsbUJBQW1CO0VBQ25CLGVBQWU7RUFDZixlQUFlO0VBQ2YsVUFBVTtFQUNWLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsa0JBQWtCO0VBQ2xCLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLFlBQVk7RUFDWixhQUFhO0FBQ2YiLCJzb3VyY2VzQ29udGVudCI6WyIucGFuZWwge1xuICBtYXJnaW46IDAgMjBweDtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5pbmZvIHtcbiAgbWFyZ2luOiAwIDIwcHg7XG5cbn1cblxuLmluZm8gaW5wdXQge1xuICBoZWlnaHQ6IDMwcHg7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4ubWFpbi1wdWIge1xuICBwYWRkaW5nOiAyMHB4O1xufVxuXG4uYWxsLXBvc3NpYmxlLWNvbnRlbnQtcGFuZWwge1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGRpc3BsYXk6IGZsZXg7XG59XG5cbi5wYW5lbCBpbnB1dCB7XG4gIG1hcmdpbi10b3A6IDNweDtcbiAgZm9udDogaW5oZXJpdDtcbiAgY29sb3I6IGN1cnJlbnRDb2xvcjtcbiAgd2lkdGg6IDEuMTVlbTtcbiAgaGVpZ2h0OiAxLjEwZW07XG4gIGJvcmRlci1yYWRpdXM6IDAuMTVlbTtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0wLjA3NWVtKTtcbn1cblxuKiB7XG4gIGZvbnQtc2l6ZTogMjBweDtcbn1cblxuYnV0dG9uLCBhIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XG4gIGJvcmRlcjogbm9uZTtcblxuICBjb2xvcjogd2hpdGU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuXG4uYWRkVGl0bGUge1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICBtYXJnaW4tdG9wOiAyMHB4O1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA0MHB4O1xuICBmb250LXNpemU6IDMwcHg7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG59XG5cbi5lcnJNc2cge1xuICBtYXJnaW4tdG9wOiAyMHB4O1xuICBjb2xvcjogcmVkO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5jdXN0b20tZm9ybSBpbnB1dCB7XG4gIG9wYWNpdHk6IDA7XG4gIGhlaWdodDogMDtcblxufVxuXG4uY3VzdG9tLWltYWdlLWNvbnRhaW5lciwgLmN1c3RvbS1pbWFnZS1jb250YWluZXItbWFpbiB7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtd3JhcDogd3JhcDtcbiAgZ2FwOiAwLjVyZW07XG59XG5cbi5jdXN0b20taW1hZ2UtY29udGFpbmVyIGltZ3tcbiAgd2lkdGg6IDQwJTtcbn1cblxuLmN1c3RvbS1mb3JtLWltZ3tcbiAgd2lkdGg6IDQwJTtcbn1cblxuLmN1c3RvbS1pbWFnZS1jb250YWluZXIgbGFiZWwsIC5jdXN0b20taW1hZ2UtY29udGFpbmVyLW1haW4gbGFiZWwge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZm9udC1zaXplOiAxNTAlO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHdpZHRoOiA1MCU7XG4gIGhlaWdodDogMjIwcHg7XG4gIGJvcmRlcjogc29saWQgMXB4IGJsYWNrO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIG9iamVjdC1maXQ6IGNvdmVyO1xufVxuXG4uY3VzdG9tLWltYWdlLWNvbnRhaW5lci1tYWluIGxhYmVsIHtcbiAgd2lkdGg6IDMyMHB4O1xuICBoZWlnaHQ6IDQyMHB4O1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["Image","environment","AppComponent","i0","PublishComponent","constructor","httpclient","router","getUser","originalAuthor","user","undefined","nickName","loadContents","subscribe","cot","allPossible","type","types","typeName","validation","titleName","titleNameEmpty","description","descriptionEmpty","titleImg","titleImageEmpty","tags","tagsEmpty","categories","categoriesEmpty","images","contentImagesEmpty","ngOnInit","imgInputHelper","document","getElementById","imgInputHelperLabel","imgContainer","querySelector","imgFiles","addImgHandler","file","files","reader","FileReader","readAsDataURL","onload","newImg","createElement","style","width","height","border","borderRadius","objectFit","result","src","insertBefore","push","value","addEventListener","getImgFileList","imgFilesHelper","DataTransfer","forEach","imgFile","items","add","customFormSubmitHandler","ev","preventDefault","firstImgInput","imgInputHelperMain","imgInputHelperLabelMain","imgContainerMain","imgFilesMain","addImgHandlerMain","remove","get","serverUrl","selectTitleImg","event","target","length","msg","mimeType","match","_event","url","edited","addNewFile","urls","String","addPost","post","authorId","id","author","creationDate","Date","content","likes","views","serials","x","navigate","addToArr","$event","obj","arr","checked","removeFromArr","includes","index","indexOf","splice","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["M:\\content-pub-java-go-angular--master\\contentPublicationUI\\src\\app\\publish\\publish.component.ts","M:\\content-pub-java-go-angular--master\\contentPublicationUI\\src\\app\\publish\\publish.component.html"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {HttpClient} from \"@angular/common/http\";\nimport {Category, Image, PossibleContent, Serial, Tag} from \"../title\";\nimport {environment} from \"../environment\";\nimport {Router} from \"@angular/router\";\nimport {AppComponent} from \"../app.component\";\nimport {User} from \"../user\";\n\n@Component({\n  selector: 'app-publish',\n  templateUrl: './publish.component.html',\n  styleUrls: ['./publish.component.css']\n})\nexport class PublishComponent implements OnInit {\n  url: any;\n  urls: any[] = [];\n  msg = \"\";\n  public edited = false;\n  user: User | undefined = AppComponent.getUser();\n\n  imgInputHelper: HTMLElement | any;\n  imgInputHelperLabel: HTMLElement | any;\n  imgContainer: HTMLElement | any;\n  imgFiles = [];\n  addImgHandler: any;\n  imgInputHelperMain: HTMLElement | any;\n  imgInputHelperLabelMain: HTMLElement | any;\n  imgContainerMain: HTMLElement | any;\n  imgFilesMain = [];\n  addImgHandlerMain: any;\n\n  public titleNameEmpty: boolean = false;\n  public descriptionEmpty: boolean = false;\n  public titleImageEmpty: boolean = false;\n  public tagsEmpty: boolean = false;\n  public categoriesEmpty: boolean = false;\n  public contentImagesEmpty: boolean = false;\n\n  public titleName: string = '';\n  public originalAuthor: string;\n  public description: string = '';\n  public titleImg: any = '';\n  public type: string = '';\n\n\n  public allPossible: PossibleContent | undefined;\n  public categories: Category[] = [];\n  public serials: Serial[] = [];\n  public tags: Tag[] = [];\n  public images: Image[] = [];\n\n  constructor(private httpclient: HttpClient, private router: Router) {\n    this.originalAuthor = this.user !== undefined ? this.user.nickName : '';\n    this.loadContents().subscribe(cot => {\n      this.allPossible = cot\n      this.type = this.allPossible.types[0].typeName\n    });\n  }\n\n  validation(): boolean {\n    if (!this.titleName) {\n      this.titleNameEmpty = true;\n      return false;\n    }\n\n    if (!this.description) {\n      this.descriptionEmpty = true;\n      return false;\n    }\n\n    if (!this.titleImg) {\n      this.titleImageEmpty = true;\n      return false;\n    }\n\n    if (!this.tags) {\n      this.tagsEmpty = true;\n      return false;\n    }\n\n    if (!this.categories) {\n      this.categoriesEmpty = true;\n      return false;\n    }\n\n    if (!this.images) {\n      this.contentImagesEmpty = true;\n      return false;\n    }\n\n    this.titleNameEmpty = false;\n    this.descriptionEmpty = false;\n    this.titleImageEmpty = false;\n    this.tagsEmpty = false;\n    this.categoriesEmpty = false;\n    this.contentImagesEmpty = false;\n\n    return true;\n  }\n\n  ngOnInit(): void {\n    this.imgInputHelper = document.getElementById(\"add-single-img\");\n    this.imgInputHelperLabel = document.getElementById(\"add-img-label\");\n    this.imgContainer = document.querySelector(\".custom-image-container\");\n    this.imgFiles = [];\n\n    this.addImgHandler = () => {\n      const file = this.imgInputHelper.files[0];\n      if (!file) return;\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => {\n        const newImg = document.createElement(\"img\");\n        newImg.style.width = \"45%\";\n        newImg.style.height = \"220px\";\n        newImg.style.border = \"solid 1px black\";\n        newImg.style.borderRadius = \"5px\";\n        newImg.style.objectFit = \"cover\";\n        if (typeof reader.result === \"string\") {\n          newImg.src = reader.result;\n        }\n        this.imgContainer.insertBefore(newImg, this.imgInputHelperLabel);\n      };\n      // @ts-ignore\n      this.imgFiles.push(file);\n      this.imgInputHelper.value = \"\";\n      return;\n    };\n    this.imgInputHelper.addEventListener(\"change\", this.addImgHandler);\n\n    const getImgFileList = (imgFiles: any[]) => {\n      const imgFilesHelper = new DataTransfer();\n      imgFiles.forEach((imgFile) => imgFilesHelper.items.add(imgFile));\n      return imgFilesHelper.files;\n    };\n\n    const customFormSubmitHandler = (ev: any) => {\n      ev.preventDefault();\n      const firstImgInput = document.getElementById(\"image-input\");\n      // @ts-ignore\n      if (firstImgInput !== null) firstImgInput.files = getImgFileList(imgFiles);\n    };\n    // @ts-ignore\n    document.querySelector(\".custom-form\").addEventListener(\"submit\", customFormSubmitHandler);\n\n\n    this.imgInputHelperMain = document.getElementById(\"add-single-img-main\");\n    this.imgInputHelperLabelMain = document.getElementById(\"add-img-label-main\");\n    this.imgContainerMain = document.querySelector(\".custom-image-container-main\");\n    this.imgFilesMain = [];\n\n    this.addImgHandlerMain = () => {\n      const file = this.imgInputHelperMain.files[0];\n      if (!file) return;\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => {\n        const newImg = document.createElement(\"img\");\n        newImg.style.width = \"320px\";\n        newImg.style.height = \"420px\";\n        newImg.style.border = \"solid 1px black\";\n        newImg.style.borderRadius = \"5px\";\n        newImg.style.objectFit = \"cover\";\n        if (typeof reader.result === \"string\") {\n          newImg.src = reader.result;\n        }\n        this.imgContainerMain.insertBefore(newImg, this.imgInputHelperLabelMain);\n        this.imgInputHelperLabelMain.remove();\n      };\n      // @ts-ignore\n      this.imgFilesMain.push(file);\n      this.imgInputHelperMain.value = \"\";\n      return;\n    };\n    this.imgInputHelperMain.addEventListener(\"change\", this.addImgHandlerMain);\n  }\n\n\n  private loadContents() {\n    return this.httpclient.get<PossibleContent>(`${environment.serverUrl}/titles/content-all`);\n  }\n\n  selectTitleImg(event: any) {\n    if (!event.target.files[0] || event.target.files[0].length == 0) {\n      this.msg = 'You must select an image';\n      return;\n    }\n\n    let mimeType = event.target.files[0].type;\n\n    if (mimeType.match(/image\\/*/) == null) {\n      this.msg = \"Only images are supported\";\n      return;\n    }\n\n    let reader = new FileReader();\n    reader.readAsDataURL(event.target.files[0]);\n\n    reader.onload = (_event) => {\n      this.msg = \"\";\n      this.url = reader.result;\n      this.titleImg = reader.result;\n    }\n\n    this.edited = true\n  }\n\n  addNewFile(event: any) {\n    let mimeType = event.target.files[0].type;\n\n    if (mimeType.match(/image\\/*/) == null) {\n      this.msg = \"Only images are supported\";\n      return;\n    }\n\n    let reader = new FileReader();\n    reader.readAsDataURL(event.target.files[0]);\n\n    reader.onload = (_event) => {\n      this.msg = \"\";\n      this.urls.push(reader.result);\n      this.images.push(new Image(0, String(reader.result)));\n    }\n  }\n\n  addPost() {\n    if (!this.user) {\n      return;\n    }\n    if (!this.validation()) return;\n\n    this.httpclient.post<any>(`${environment.serverUrl}/titles/`, {\n      titleName: this.titleName,\n      originalAuthor: this.originalAuthor,\n      authorId: this.user.id,\n      author: this.user,\n      typeName: this.type,\n      description: this.description,\n      creationDate: new Date(),\n      titleImg: this.titleImg,\n      content: {\n        likes: [],\n        views: 0,\n        images: this.images\n      },\n      categories: this.categories,\n      tags: this.tags,\n      serials: this.serials\n    }).subscribe(x => {\n      this.router.navigate([\"/titles/\" + x.id]);\n    });\n  }\n\n\n  addToArr($event: any, obj: Category | Tag | Serial, arr: any[]) {\n    if ($event.target.checked) {\n      arr.push(obj);\n      return;\n    }\n    removeFromArr(arr, obj);\n\n    function removeFromArr(arr: any[], obj: Category | Tag | Serial) {\n      if (arr.includes(obj)) {\n        const index = arr.indexOf(obj, 0);\n        if (index > -1) {\n          arr.splice(index, 1);\n        }\n      }\n    }\n  }\n}\n","<div class=\"px-2 py-2\">\n  <div class=\"row g-1\">\n\n    <div style=\"display: flex; flex-direction: row;\">\n      <div class=\"custom-form col-6\">\n        <label for=\"lastName\" class=\"form-label mb-1\">Виберіть головне фото</label>\n        <div [innerHtml]='msg' *ngIf=\"msg\" style=\"color: red;\"></div>\n        <div>\n          <div class=\"custom-image-container-main\">\n            <label id=\"add-img-label-main\" for=\"add-single-img-main\">+</label>\n            <input type=\"file\" id=\"add-single-img-main\" (change)=\"selectTitleImg($event);\" accept=\"image/jpeg\" />\n          </div>\n          <input type=\"file\" id=\"image-input-main\" name=\"photos\" accept=\"image/jpeg\" />\n        </div>\n      </div>\n\n      <div class=\"custom-form custom-form-img col-6\">\n        <label for=\"lastName\" class=\"form-label mb-1\">Виберіть контент для вмісту, стільки, скільки потрібно</label>\n        <div class=\"custom-image-container\">\n          <label id=\"add-img-label\" for=\"add-single-img\">+</label>\n          <input type=\"file\" id=\"add-single-img\" (change)=\"addNewFile($event)\" accept=\"image/jpeg\" />\n        </div>\n        <input type=\"file\" id=\"image-input\" name=\"photos\" accept=\"image/jpeg\" multiple />\n      </div>\n    </div>\n    <div class=\"col-sm-12\">\n      <label class=\"form-label mb-1\">Оберіть тип</label>\n      <select *ngIf=\"allPossible\" class=\"form-select form-select-lg\" [(ngModel)]=\"type\">\n        <option *ngFor=\"let t of allPossible.types\">{{t.typeName}}</option>\n      </select>\n    </div>\n\n    <div class=\"col-sm-6\">\n      <label for=\"firstName\" class=\"form-label mb-1\">Назва публікації</label>\n      <input type=\"text\" [(ngModel)]=\"titleName\" class=\"form-control\" id=\"firstName\">\n    </div>\n\n    <div class=\"col-sm-6\">\n      <label for=\"lastName\" class=\"form-label mb-1\">Оригінальний автор</label>\n      <input type=\"text\" [(ngModel)]=\"originalAuthor\" class=\"form-control\" id=\"lastName\">\n    </div>\n\n    <div class=\"col-12\">\n      <label class=\"form-label mb-1\">Опис</label>\n      <textarea style=\"height: 200px\" [(ngModel)]=\"description\" class=\"w-100\"></textarea>\n    </div>\n    <div *ngIf=\"allPossible\" class=\"mb-0\">\n\n      <div *ngIf=\"allPossible.categories\" class=\" col-4 btn-group\">\n        <button type=\"button\" class=\"btn btn-secondary dropdown-toggle\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n          Список категорій\n        </button>\n        <ul class=\"w-100 dropdown-menu\">\n          <li *ngFor=\"let cat of allPossible.categories\" class=\"list-group-item d-flex justify-content-between\"\n            style=\"border: none\">\n            <div (change)=\"addToArr($event, cat, categories)\">\n              <input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"flexCheckIndeterminateCats\"\n                name=\"categories\">\n              <label class=\"form-check-label text-secondary\" for=\"flexCheckIndeterminateCats\">\n                {{cat.genre}}\n              </label>\n            </div>\n          </li>\n        </ul>\n      </div>\n      <div *ngIf=\"!allPossible.categories\" class=\"w-100 btn-group\">\n        <button type=\"button\" class=\"w-100 btn btn-danger\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n          Немає доступних категорій\n        </button>\n      </div>\n      <div *ngIf=\"allPossible.tags\" class=\"col-4 btn-group\">\n        <button type=\"button\" class=\"btn btn-secondary dropdown-toggle\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n          Список тегів\n        </button>\n        <ul class=\"w-100 dropdown-menu\">\n          <li *ngFor=\"let cat of allPossible.tags\" class=\"list-group-item d-flex justify-content-between\"\n            style=\"border: none\">\n            <div (change)=\"addToArr($event, cat, tags)\">\n              <input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"flexCheckIndeterminateTags\"\n                name=\"categories\">\n              <label class=\"form-check-label text-secondary\" for=\"flexCheckIndeterminateTags\">\n                {{cat.tag}}\n              </label>\n            </div>\n          </li>\n        </ul>\n      </div>\n      <div *ngIf=\"!allPossible.tags\" class=\"w-100 btn-group\">\n        <button type=\"button\" class=\"w-100 btn btn-danger\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n          Немає доступних тегів\n        </button>\n      </div>\n      <div *ngIf=\"allPossible.serials\" class=\"col-4 btn-group\">\n        <button type=\"button\" class=\"btn btn-secondary dropdown-toggle\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n          Список серій\n        </button>\n        <ul class=\"w-100 dropdown-menu\">\n          <li *ngFor=\"let cat of allPossible.serials\" class=\"list-group-item d-flex justify-content-between\"\n            style=\"border: none\">\n            <div (change)=\"addToArr($event, cat, serials)\">\n              <input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"flexCheckIndeterminateSerials\"\n                name=\"categories\">\n              <label class=\"form-check-label text-secondary\" for=\"flexCheckIndeterminateSerials\">\n                {{cat.serialName}}\n              </label>\n            </div>\n          </li>\n        </ul>\n      </div>\n      <div *ngIf=\"!allPossible.serials\" class=\"w-100 btn-group\">\n        <button type=\"button\" class=\"w-100 btn btn-danger\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n          Немає доступних серій\n        </button>\n      </div>\n    </div>\n\n    <div class=\"col-12\">\n      <div class=\"alert alert-danger\" *ngIf=\"titleNameEmpty\">Title name cannot be empty</div>\n      <div class=\"alert alert-danger\" *ngIf=\"descriptionEmpty\">Description cannot be empty</div>\n      <div class=\"alert alert-danger\" *ngIf=\"titleImageEmpty\">Title image cannot be empty</div>\n      <div class=\"alert alert-danger\" *ngIf=\"tagsEmpty\">Tags list cannot be empty</div>\n      <div class=\"alert alert-danger\" *ngIf=\"categoriesEmpty\">Categories list cannot be empty</div>\n      <div class=\"alert alert-danger\" *ngIf=\"contentImagesEmpty\">Content images cannot be empty</div>\n      <button class=\"w-100 btn-lg\" (click)=\"addPost()\">Створити публікацію</button>\n    </div>\n  </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}