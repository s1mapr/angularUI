{"ast":null,"code":"import { Title } from \"../../title\";\nimport { environment } from \"../../environment\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction ProfileViewComponent_div_0_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function ProfileViewComponent_div_0_div_3_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.subscribe());\n    });\n    i0.ɵɵtext(2, \"\\u0412\\u0438 \\u043D\\u0435 \\u043F\\u0456\\u0434\\u043F\\u0438\\u0441\\u0430\\u043D\\u0456 \\u043D\\u0430 \\u0446\\u044C\\u043E\\u0433\\u043E \\u0430\\u0432\\u0442\\u043E\\u0440\\u0430 \");\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelementStart(4, \"small\");\n    i0.ɵɵtext(5, \"\\u041E\\u0444\\u043E\\u0440\\u043C\\u0438\\u0442\\u0438 \\u043F\\u0456\\u0434\\u043F\\u0438\\u0441\\u043A\\u0443?\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction ProfileViewComponent_div_0_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function ProfileViewComponent_div_0_div_4_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.unSubscribe());\n    });\n    i0.ɵɵelementStart(2, \"strong\");\n    i0.ɵɵtext(3, \"\\u0412\\u0438 \\u0432\\u0436\\u0435 \\u043F\\u0456\\u0434\\u043F\\u0438\\u0441\\u0430\\u043D\\u0456 \\u043D\\u0430 \\u0446\\u044C\\u043E\\u0433\\u043E \\u0430\\u0432\\u0442\\u043E\\u0440\\u0430\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵelementStart(5, \"small\");\n    i0.ɵɵtext(6, \"\\u0412\\u0456\\u0434\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u0438 \\u043F\\u0456\\u0434\\u043F\\u0438\\u0441\\u043A\\u0443?\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction ProfileViewComponent_div_0_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"a\", 10);\n    i0.ɵɵtext(2, \"\\u041A\\u043E\\u0440\\u0438\\u0441\\u0442\\u0443\\u0432\\u0430\\u0447 \\u043D\\u0456\\u0447\\u043E\\u0433\\u043E \\u043D\\u0435 \\u043E\\u043F\\u0443\\u0431\\u043B\\u0456\\u043A\\u0443\\u0432\\u0430\\u0432\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProfileViewComponent_div_0_div_7_div_3_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const title_r10 = i0.ɵɵnextContext().$implicit;\n    const ctx_r11 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r11.parseDate(title_r10.creationDate));\n  }\n}\nfunction ProfileViewComponent_div_0_div_7_div_3_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtext(1, \"[date parse error]\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProfileViewComponent_div_0_div_7_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 14)(2, \"div\", 15)(3, \"h4\", 16);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 17)(6, \"span\");\n    i0.ɵɵtext(7, \"\\u043E\\u0440\\u0438\\u0433\\u0456\\u043D\\u0430\\u043B\\u044C\\u043D\\u0438\\u0439 \\u0430\\u0432\\u0442\\u043E\\u0440: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"strong\", 18);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 17)(11, \"span\");\n    i0.ɵɵtext(12, \"\\u0434\\u0430\\u0442\\u0430 \\u0441\\u0442\\u0432\\u043E\\u0440\\u0435\\u043D\\u043D\\u044F: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, ProfileViewComponent_div_0_div_7_div_3_div_13_Template, 2, 1, \"div\", 19);\n    i0.ɵɵtemplate(14, ProfileViewComponent_div_0_div_7_div_3_div_14_Template, 2, 0, \"div\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"textarea\", 20);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(17, \"p\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 22);\n    i0.ɵɵelement(19, \"img\", 23);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const title_r10 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(title_r10.titleName);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(title_r10.originalAuthor);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", title_r10.creationDate);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !title_r10.creationDate);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(title_r10.description);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", title_r10.titleImg, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction ProfileViewComponent_div_0_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"a\", 11);\n    i0.ɵɵtext(2, \"\\u041F\\u0443\\u0431\\u043B\\u0456\\u043A\\u0430\\u0446\\u0456 \\u0441\\u0442\\u0432\\u043E\\u0440\\u0435\\u043D\\u0456 \\u043A\\u043E\\u0440\\u0438\\u0441\\u0442\\u0443\\u0432\\u0430\\u0447\\u0435\\u043C\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, ProfileViewComponent_div_0_div_7_div_3_Template, 20, 6, \"div\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.user.publishedTitles);\n  }\n}\nfunction ProfileViewComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2);\n    i0.ɵɵelement(2, \"img\", 3);\n    i0.ɵɵtemplate(3, ProfileViewComponent_div_0_div_3_Template, 6, 0, \"div\", 4);\n    i0.ɵɵtemplate(4, ProfileViewComponent_div_0_div_4_Template, 7, 0, \"div\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 5);\n    i0.ɵɵtemplate(6, ProfileViewComponent_div_0_div_6_Template, 3, 0, \"div\", 6);\n    i0.ɵɵtemplate(7, ProfileViewComponent_div_0_div_7_Template, 4, 1, \"div\", 6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", ctx_r0.user.img64, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.user.role == \"AUTHOR\" && !ctx_r0.isSubscribed);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.user.role == \"AUTHOR\" && ctx_r0.isSubscribed);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !(ctx_r0.user.publishedTitles && ctx_r0.user.publishedTitles.length > 0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.user.publishedTitles && ctx_r0.user.publishedTitles.length > 0);\n  }\n}\nexport class ProfileViewComponent {\n  constructor(httpclient, router, route) {\n    this.httpclient = httpclient;\n    this.router = router;\n    this.route = route;\n    this.isSubscribed = false;\n    let id = this.route.snapshot.paramMap.get('id');\n    this.httpclient.get(`${environment.serverUrl}/account/profile-view/${id}`).subscribe(user => {\n      this.user = user;\n      this.checkSubscribe();\n    });\n  }\n  parseDate(date) {\n    return new Date(date);\n  }\n  getCreatingDate(date) {\n    date = this.parseDate(date);\n    return date.toLocaleTimeString() + \" \" + date.toLocaleDateString();\n  }\n  getLimitComments() {\n    let id = this.route.snapshot.paramMap.get('id');\n    this.httpclient.get(`${environment.serverUrl}/account/commented/${id}`).subscribe(titles => {\n      this.commentedTitles = titles;\n    });\n  }\n  subscribe() {\n    let id = this.route.snapshot.paramMap.get('id');\n    this.httpclient.post(`${environment.serverUrl}/account/subscribe/${id}`, {}).subscribe(() => {\n      document.location.reload();\n    });\n  }\n  unSubscribe() {\n    let id = this.route.snapshot.paramMap.get('id');\n    this.httpclient.post(`${environment.serverUrl}/account/unsubscribe/${id}`, {}).subscribe(() => {\n      document.location.reload();\n    });\n  }\n  checkSubscribe() {\n    if (this.user) {\n      let id = this.user.id;\n      this.httpclient.get(`${environment.serverUrl}/account/check-sub/${id}`).subscribe(isSubscribed => {\n        this.isSubscribed = isSubscribed;\n      });\n    }\n  }\n  getReleaseYear(u) {\n    return new Date(u.creationDate).toLocaleDateString();\n  }\n  ngOnInit() {\n    this.getLimitComments();\n  }\n  static #_ = this.ɵfac = function ProfileViewComponent_Factory(t) {\n    return new (t || ProfileViewComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProfileViewComponent,\n    selectors: [[\"app-profile-view\"]],\n    decls: 1,\n    vars: 1,\n    consts: [[\"class\", \"justify-content-center\", 4, \"ngIf\"], [1, \"justify-content-center\"], [1, \"col-md-9\", \"col-lg-9\", \"mx-auto\"], [\"alt\", \"Admin\", 1, \"w-100\", \"bg-wgr\", 3, \"src\"], [\"class\", \"col-sm-12\", 4, \"ngIf\"], [1, \"col-md-9\", \"col-lg-9\", \"mx-auto\", 2, \"margin-top\", \"20px\"], [4, \"ngIf\"], [1, \"col-sm-12\"], [1, \"w-100\", \"bg-warning\", 3, \"click\"], [1, \"w-100\", \"bg-gr\", 3, \"click\"], [1, \"btn-lg\", \"w-100\", \"bg-danger\", \"not-border-bottom\"], [1, \"btn-lg\", \"w-100\", \"not-border-bottom\"], [\"class\", \"col-12\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-12\"], [1, \"row\", \"g-0\", \"border\", \"rounded\", \"not-border-top\", \"overflow-hidden\", \"flex-md-row\", \"pb-1\", \"mb-1\", \"shadow-sm\", \"h-md-250\", \"position-relative\"], [1, \"col\", \"p-2\", \"likes-inner\", \"d-flex\", \"flex-column\", \"position-static\"], [1, \"mb-0\"], [1, \"d-flex\"], [1, \"text-muted\"], [\"class\", \"mb-1 text-muted\", 4, \"ngIf\"], [\"disabled\", \"\", 1, \"w-100\", 2, \"border\", \"0\"], [1, \"card-text\", \"mb-auto\"], [1, \"col-auto\", \"d-none\", \"d-lg-block\"], [\"alt\", \"\", \"width\", \"100\", 1, \"bd-placeholder-img\", 3, \"src\"], [1, \"mb-1\", \"text-muted\"]],\n    template: function ProfileViewComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ProfileViewComponent_div_0_Template, 8, 5, \"div\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.user);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\", \"button[_ngcontent-%COMP%] {\\n  background-color: rgb(14, 65, 235);\\n  border: none;\\n  color: white;\\n  text-align: center;\\n  text-decoration: none;\\n}\\n\\n\\n.likes-inner[_ngcontent-%COMP%] {\\n  font-size: 14px;\\n}\\n\\n.bg-pink[_ngcontent-%COMP%] {\\n  background-color: pink;\\n}\\n/*# sourceURL=webpack://./src/app/profile/profile.component.css */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvZmlsZS9wcm9maWxlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQ0FBa0M7RUFDbEMsWUFBWTtFQUNaLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIscUJBQXFCO0FBQ3ZCOzs7QUFHQTtFQUNFLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxzQkFBc0I7QUFDeEIiLCJzb3VyY2VzQ29udGVudCI6WyJidXR0b24ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTQsIDY1LCAyMzUpO1xuICBib3JkZXI6IG5vbmU7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59XG5cblxuLmxpa2VzLWlubmVyIHtcbiAgZm9udC1zaXplOiAxNHB4O1xufVxuXG4uYmctcGluayB7XG4gIGJhY2tncm91bmQtY29sb3I6IHBpbms7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\", \".description[_ngcontent-%COMP%] {\\n  \\n  background-color: #63c77f;\\n}\\n\\nbutton[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{\\n  background-color: rgb(14, 65, 235);\\n  border: none;\\n\\n  color: white;\\n  text-align: center;\\n  display: inline-block;\\n}\\n\\nbutton[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:hover {\\n  background-color: #5468ef;\\n}\\n\\n.left-bar[_ngcontent-%COMP%] {\\n  margin: 20px;\\n}\\n\\n.title-name[_ngcontent-%COMP%] {\\n  font-size: 24px;\\n}\\n\\n.right-bar[_ngcontent-%COMP%] {\\n  display: block;\\n  margin: 20px;\\n  width: 75%;\\n  overflow: hidden;\\n}\\n\\n.panel-btns-tags-cats-inner[_ngcontent-%COMP%] {\\n  display: flex;\\n  width: 100%;\\n  gap: 2px;\\n}\\n\\n.cats-tags[_ngcontent-%COMP%] {\\n  display: flex;\\n}\\n\\n.start-read[_ngcontent-%COMP%] {\\n  height: min-content;\\n  width: max-content;\\n  padding: 15px 32px;\\n  font-size: 20px;\\n  border-bottom-left-radius: 10px;\\n  border-bottom-right-radius: 10px;\\n}\\n\\n.title[_ngcontent-%COMP%] {\\n  font-size: 15px;\\n  color: green;\\n}\\n\\n.like[_ngcontent-%COMP%] {\\n  border-radius: 0;\\n  width: 200px;\\n  padding: 15px 32px;\\n  display: inline-block;\\n}\\n\\n.start-read[_ngcontent-%COMP%]:hover {\\n  cursor: pointer;\\n}\\n\\n.panel-btns-tags-cats[_ngcontent-%COMP%] {\\n  background-color: pink;\\n  padding: 10px;\\n}\\n\\n.comments[_ngcontent-%COMP%] {\\n  margin-top: 30px;\\n}\\n\\n.comment-from-user[_ngcontent-%COMP%]{\\n  border: 1px solid green;\\n  margin-top: 10px;\\n  padding: 5px 30px ;\\n  height: max-content;\\n  display: flex;\\n  justify-content: space-between;\\n}\\n\\n.comment-from-user[_ngcontent-%COMP%]:hover{\\n  background-color: #63c77f;\\n}\\n\\n.comment-inpt[_ngcontent-%COMP%] {\\n  width: 100%;\\n}\\n\\n.comment-inpt[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .comment-inpt[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  box-sizing: border-box;\\n  height: 30px;\\n  font-size: 16px;\\n}\\n\\n.comment-inpt[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  width: 70%;\\n}\\n\\n.comment-inpt[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  width: 30%;\\n}\\n\\n.comment-from-user[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%] {\\n  height: min-content !important;\\n}\\n/*# sourceURL=webpack://./src/app/title-view/title-view.component.css */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdGl0bGUtdmlldy90aXRsZS12aWV3LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSw2QkFBNkI7RUFDN0IseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0Usa0NBQWtDO0VBQ2xDLFlBQVk7O0VBRVosWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsY0FBYztFQUNkLFlBQVk7RUFDWixVQUFVO0VBQ1YsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLFdBQVc7RUFDWCxRQUFRO0FBQ1Y7O0FBRUE7RUFDRSxhQUFhO0FBQ2Y7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsa0JBQWtCO0VBQ2xCLGtCQUFrQjtFQUNsQixlQUFlO0VBQ2YsK0JBQStCO0VBQy9CLGdDQUFnQztBQUNsQzs7QUFFQTtFQUNFLGVBQWU7RUFDZixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxlQUFlO0FBQ2pCOztBQUVBO0VBQ0Usc0JBQXNCO0VBQ3RCLGFBQWE7QUFDZjs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLHVCQUF1QjtFQUN2QixnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLG1CQUFtQjtFQUNuQixhQUFhO0VBQ2IsOEJBQThCO0FBQ2hDOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsV0FBVztBQUNiOztBQUVBO0VBQ0Usc0JBQXNCO0VBQ3RCLFlBQVk7RUFDWixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsVUFBVTtBQUNaOztBQUVBO0VBQ0UsVUFBVTtBQUNaOztBQUVBO0VBQ0UsOEJBQThCO0FBQ2hDIiwic291cmNlc0NvbnRlbnQiOlsiLmRlc2NyaXB0aW9uIHtcbiAgLypiYWNrZ3JvdW5kLWNvbG9yOiAjNjNjNzdmOyovXG4gIGJhY2tncm91bmQtY29sb3I6ICM2M2M3N2Y7XG59XG5cbmJ1dHRvbiAsIGF7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYigxNCwgNjUsIDIzNSk7XG4gIGJvcmRlcjogbm9uZTtcblxuICBjb2xvcjogd2hpdGU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuXG5idXR0b246aG92ZXIsIGE6aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTQ2OGVmO1xufVxuXG4ubGVmdC1iYXIge1xuICBtYXJnaW46IDIwcHg7XG59XG5cbi50aXRsZS1uYW1lIHtcbiAgZm9udC1zaXplOiAyNHB4O1xufVxuXG4ucmlnaHQtYmFyIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbjogMjBweDtcbiAgd2lkdGg6IDc1JTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLnBhbmVsLWJ0bnMtdGFncy1jYXRzLWlubmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgd2lkdGg6IDEwMCU7XG4gIGdhcDogMnB4O1xufVxuXG4uY2F0cy10YWdzIHtcbiAgZGlzcGxheTogZmxleDtcbn1cblxuLnN0YXJ0LXJlYWQge1xuICBoZWlnaHQ6IG1pbi1jb250ZW50O1xuICB3aWR0aDogbWF4LWNvbnRlbnQ7XG4gIHBhZGRpbmc6IDE1cHggMzJweDtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAxMHB4O1xuICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMTBweDtcbn1cblxuLnRpdGxlIHtcbiAgZm9udC1zaXplOiAxNXB4O1xuICBjb2xvcjogZ3JlZW47XG59XG5cbi5saWtlIHtcbiAgYm9yZGVyLXJhZGl1czogMDtcbiAgd2lkdGg6IDIwMHB4O1xuICBwYWRkaW5nOiAxNXB4IDMycHg7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cblxuLnN0YXJ0LXJlYWQ6aG92ZXIge1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5wYW5lbC1idG5zLXRhZ3MtY2F0cyB7XG4gIGJhY2tncm91bmQtY29sb3I6IHBpbms7XG4gIHBhZGRpbmc6IDEwcHg7XG59XG5cbi5jb21tZW50cyB7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG59XG5cbi5jb21tZW50LWZyb20tdXNlcntcbiAgYm9yZGVyOiAxcHggc29saWQgZ3JlZW47XG4gIG1hcmdpbi10b3A6IDEwcHg7XG4gIHBhZGRpbmc6IDVweCAzMHB4IDtcbiAgaGVpZ2h0OiBtYXgtY29udGVudDtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xufVxuXG4uY29tbWVudC1mcm9tLXVzZXI6aG92ZXJ7XG4gIGJhY2tncm91bmQtY29sb3I6ICM2M2M3N2Y7XG59XG5cbi5jb21tZW50LWlucHQge1xuICB3aWR0aDogMTAwJTtcbn1cblxuLmNvbW1lbnQtaW5wdCBpbnB1dCwgLmNvbW1lbnQtaW5wdCBidXR0b24ge1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBoZWlnaHQ6IDMwcHg7XG4gIGZvbnQtc2l6ZTogMTZweDtcbn1cblxuLmNvbW1lbnQtaW5wdCBpbnB1dCB7XG4gIHdpZHRoOiA3MCU7XG59XG5cbi5jb21tZW50LWlucHQgYnV0dG9uIHtcbiAgd2lkdGg6IDMwJTtcbn1cblxuLmNvbW1lbnQtZnJvbS11c2VyIC51c2VyLWltZyB7XG4gIGhlaWdodDogbWluLWNvbnRlbnQgIWltcG9ydGFudDtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["Title","environment","i0","ProfileViewComponent","constructor","httpclient","router","route","id","snapshot","paramMap","get","serverUrl","subscribe","user","checkSubscribe","parseDate","date","Date","getCreatingDate","toLocaleTimeString","toLocaleDateString","getLimitComments","titles","commentedTitles","post","document","location","reload","unSubscribe","isSubscribed","getReleaseYear","u","creationDate","ngOnInit","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["M:\\content-pub-java-go-angular--master\\contentPublicationUI\\src\\app\\profile\\profile-view\\profile-view.component.ts","M:\\content-pub-java-go-angular--master\\contentPublicationUI\\src\\app\\profile\\profile-view\\profile-view.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport {User} from \"../../user\";\nimport {Comment, Image, Title} from \"../../title\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {environment} from \"../../environment\";\n\n@Component({\n  selector: 'app-profile-view',\n  templateUrl: './profile-view.component.html',\n  styleUrls: ['./profile-view.component.css', '../profile.component.css', '../../title-view/title-view.component.css']\n})\nexport class ProfileViewComponent {\n  user: User | undefined;\n  commentedTitles: Title[] | undefined\n  isSubscribed: boolean = false\n\n\n  constructor(private httpclient: HttpClient, private router: Router, private route: ActivatedRoute) {\n    let id = this.route.snapshot.paramMap.get('id');\n    this.httpclient.get<User>(`${environment.serverUrl}/account/profile-view/${id}`).subscribe(user => {\n      this.user = user\n      this.checkSubscribe();\n    });\n  }\n\n  parseDate(date: Date): Date {\n    return new Date(date);\n  }\n\n  getCreatingDate(date: Date): string {\n    date = this.parseDate(date);\n    return date.toLocaleTimeString() +\" \"+ date.toLocaleDateString()\n  }\n\n\n  getLimitComments() {\n    let id = this.route.snapshot.paramMap.get('id');\n    this.httpclient.get<Title[]>(`${environment.serverUrl}/account/commented/${id}`).subscribe(titles => {\n      this.commentedTitles = titles;\n    });\n  }\n\n  subscribe() {\n    let id = this.route.snapshot.paramMap.get('id');\n    this.httpclient.post<number>(`${environment.serverUrl}/account/subscribe/${id}`, {}).subscribe(() => {\n      document.location.reload();\n    });\n  }\n\n  unSubscribe() {\n    let id = this.route.snapshot.paramMap.get('id');\n    this.httpclient.post<number>(`${environment.serverUrl}/account/unsubscribe/${id}`, {}).subscribe(() => {\n      document.location.reload();\n    });\n  }\n\n\n  checkSubscribe() {\n    if (this.user) {\n      let id = this.user.id\n      this.httpclient.get<boolean>(`${environment.serverUrl}/account/check-sub/${id}`).subscribe(isSubscribed => {\n        this.isSubscribed = isSubscribed;\n      });\n    }\n  }\n\n  getReleaseYear(u: User): string {\n    return new Date(u.creationDate).toLocaleDateString();\n  }\n\n  ngOnInit(): void {\n    this.getLimitComments();\n  }\n\n}\n","<div *ngIf=\"user\" class=\"justify-content-center\">\n  <div class=\"col-md-9 col-lg-9 mx-auto\">\n    <img [src]=\"user.img64\" alt=\"Admin\" class=\"w-100 bg-wgr\">\n\n    <div *ngIf=\"user.role == 'AUTHOR' && !isSubscribed\" class=\"col-sm-12\">\n      <button (click)=\"subscribe()\" class=\"w-100 bg-warning\">Ви не підписані на цього автора\n        <br>\n        <small>Оформити підписку?</small>\n      </button>\n    </div>\n\n    <div *ngIf=\"user.role == 'AUTHOR' && isSubscribed\" class=\"col-sm-12\">\n      <button (click)=\"unSubscribe()\" class=\"w-100 bg-gr\">\n        <strong>Ви вже підписані на цього автора</strong>\n        <br>\n        <small>Відключити підписку?</small>\n      </button>\n    </div>\n  </div>\n  <div class=\"col-md-9 col-lg-9 mx-auto\" style=\"margin-top: 20px;\">\n    <div *ngIf=\"!(user.publishedTitles && user.publishedTitles.length > 0)\">\n      <a class=\"btn-lg w-100 bg-danger not-border-bottom\">Користувач нічого не опублікував</a>\n    </div>\n    <div *ngIf=\" user.publishedTitles && user.publishedTitles.length > 0\">\n      <a class=\"btn-lg w-100 not-border-bottom\">Публікаці створені користувачем</a>\n      <div class=\"col-12\" *ngFor=\"let title of user.publishedTitles\">\n        <div\n          class=\"row g-0  border rounded not-border-top overflow-hidden flex-md-row pb-1 mb-1 shadow-sm h-md-250 position-relative\">\n          <div class=\"col p-2 likes-inner d-flex flex-column position-static\">\n            <h4 class=\"mb-0\">{{title.titleName}}</h4>\n            <div class=\"d-flex\">\n              <span>оригінальний автор: </span>\n              <strong class=\"text-muted\">{{title.originalAuthor}}</strong>\n            </div>\n            <div class=\"d-flex\">\n              <span>дата створення: </span>\n              <div class=\"mb-1 text-muted\" *ngIf=\"title.creationDate\">{{parseDate(title.creationDate)}}</div>\n              <div class=\"mb-1 text-muted\" *ngIf=\"!title.creationDate\">[date parse error]</div>\n            </div>\n            <textarea style=\"border: 0\" class=\"w-100\" disabled>{{title.description}}</textarea>\n            <p class=\"card-text mb-auto\">\n\n            </p>\n          </div>\n          <div class=\"col-auto d-none d-lg-block\">\n            <img [src]=\"title.titleImg\" alt=\"\" class=\"bd-placeholder-img\" width=\"100\">\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}